---
description: 自然言語の機能説明から機能仕様を作成または更新します。
---

ユーザー入力は、エージェントから直接提供されるか、`$ARGUMENTS`に含まれます - プロンプトを進める前に（空でない場合は）必ず考慮する**必要があります**。

ユーザー入力:

$ARGUMENTS

トリガーメッセージで`/specify`の後にユーザーが入力したテキスト**が**機能説明です。下に文字通り`$ARGUMENTS`が表示されても、常にこの会話で利用可能だと仮定してください。空のコマンドを提供した場合を除き、ユーザーに繰り返しを求めないでください。

その機能説明を基に、以下を実行してください：

1. リポジトリルートからスクリプト `.specify/scripts/bash/create-new-feature.sh --json "$ARGUMENTS"` を実行し、BRANCH_NAMEとSPEC_FILEのJSON出力を解析します。すべてのファイルパスは絶対パスである必要があります。
  **重要** このスクリプトは一度だけ実行する必要があります。JSONは出力としてターミナルで提供されます - 探している実際の内容を取得するために常にそれを参照してください。
2. `.specify/templates/spec-template.md` を読み込み、必要なセクションを理解します。
3. テンプレート構造を使用してSPEC_FILEに仕様を書き込み、セクションの順序と見出しを保持しながら、プレースホルダーを機能説明（引数）から導出された具体的な詳細に置き換えます。
4. ブランチ名、仕様ファイルパス、および次のフェーズへの準備状況と共に完了を報告します。

注意：スクリプトは新しいブランチを作成してチェックアウトし、書き込み前に仕様ファイルを初期化します。
